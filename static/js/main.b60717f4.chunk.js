(this.webpackJsonporderbook=this.webpackJsonporderbook||[]).push([[0],{51:function(e,t,n){},52:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(21),s=n.n(i),r=(n(51),n(52),n(23)),a=n(2),o=n(3),j=n(93),l=n(97),b=n(94),u=n(95),d=n(96),O=n(53)("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl",{path:"/flights"}),p=n.p+"static/media/avioncito.377a0bb5.png",h=n(1),x=function(){var e=Object(c.useState)([]),t=Object(a.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)([]),x=Object(a.a)(s,2),f=x[0],m=x[1],g={color:"lime"},v=new o.Icon({iconUrl:p,iconSize:[38,38]});return Object(c.useEffect)((function(){O.emit("FLIGHTS"),O.on("FLIGHTS",(function(e){i(e)}))}),[]),Object(c.useEffect)((function(){O.on("POSITION",(function(e){m((function(t){return[].concat(Object(r.a)(t),[e])}))}))}),[]),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Live Map"}),Object(h.jsx)("p",{children:"Click on a plane to see its code"}),Object(h.jsx)("div",{id:"leaflet-container",children:Object(h.jsxs)(j.a,{center:[-36,-65],zoom:5,scrollWheelZoom:!1,children:[Object(h.jsx)(l.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),n.map((function(e){var t=[[e.origin[0],e.origin[1]],[e.destination[0],e.destination[1]]];return Object(h.jsx)(b.a,{pathOptions:g,positions:t})})),n.map((function(e){var t=[e.origin[0],e.origin[1]];return Object(h.jsx)(u.a,{position:t})})),f.map((function(e){var t=[e.position[0],e.position[1]];return Object(h.jsx)(u.a,{position:t,icon:v,children:Object(h.jsx)(d.a,{code:e.code,children:Object(h.jsx)("code",{children:e.code})})})}))]})}),Object(h.jsx)("h2",{children:"Flight Information"}),Object(h.jsx)("div",{className:"order-container-title",style:{textAlign:"left"},children:n.map((function(e){return Object(h.jsxs)("div",{className:"order-container",children:[Object(h.jsxs)("h3",{children:["Code: ",e.code]}),Object(h.jsxs)("p",{children:["Airline: ",e.airline]}),Object(h.jsxs)("p",{children:["Origin: ",e.origin[0],", ",e.origin[1]]}),Object(h.jsxs)("p",{children:["Destination: ",e.destination[0],", ",e.destination[1]]}),Object(h.jsxs)("p",{children:["Plane: ",e.plane]}),Object(h.jsxs)("p",{children:["Seats: ",e.seats]}),Object(h.jsx)("p",{children:"Passengers: "}),Object(h.jsx)("div",{className:"order-container-passengers",children:e.passengers.map((function(e){return Object(h.jsxs)("p",{children:[e.name,", ",e.age," years old"]})}))})]})}))})]})},f=n(46),m=n.n(f),g=(n(90),function(){var e=Object(c.useState)(""),t=Object(a.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)(""),o=Object(a.a)(s,2),j=o[0],l=o[1],b=Object(c.useState)([]),u=Object(a.a)(b,2),d=u[0],p=u[1],x=Object(c.useState)(!1),f=Object(a.a)(x,2),g=f[0],v=f[1];Object(c.useEffect)((function(){O.on("CHAT",(function(e){p((function(t){return[].concat(Object(r.a)(t),[e])}))}))}),[]);return Object(h.jsxs)("div",{className:"container",children:[!g&&Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==n&&v(!0)},children:[Object(h.jsx)("p",{children:"Type a nickname:"}),Object(h.jsx)("input",{align:"center",type:"text",value:n,onChange:function(e){return i(e.target.value)}}),Object(h.jsx)("input",{type:"submit",value:"send"})]}),g&&Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),O.emit("CHAT",{name:n,message:j})},children:[Object(h.jsx)("p",{children:"Type a message:"}),Object(h.jsx)("input",{align:"center",type:"text",value:j,onChange:function(e){return l(e.target.value)}}),Object(h.jsx)("input",{type:"submit",value:"send"})]}),Object(h.jsx)("div",{className:"container",style:{textAlign:"left"},children:d.map((function(e){if(e)return Object(h.jsx)("div",{className:"order-message",children:Object(h.jsxs)("p",{children:[e.name,", ",m()(new Date(e.date)).format("LLL"),": ",e.message]})})}))})]})}),v=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Flight Control Center"}),Object(h.jsx)(x,{}),Object(h.jsx)("h2",{children:"Chat"}),Object(h.jsx)(g,{})]})};s.a.render(Object(h.jsx)(v,{}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.b60717f4.chunk.js.map